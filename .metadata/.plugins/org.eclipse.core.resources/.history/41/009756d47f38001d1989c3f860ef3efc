/*
 ============================================================================
 Name        : TP_1.c
 Author      : 
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>
#include "ingresos.h"
#include "tp.1.h"

#define MAX 5
#define MIN 1

int calcularPromedioJugadoresxMercado(float *promedio,int contadorJugadores, int contadorDeConfederacion);

int main(void) {
	setbuf(stdout,NULL);

	int opcion;
	int opcionSubMenu;
	float hospedaje=0;
	float comida=0;
	float transporte=0;
	int contadorArqueros=0;
	int contadorDefensores=0;
	int contadorMediocampistas=0;
	int contadorDelanteros=0;
	int contadorJugadores=0;
	int numeroCamiseta;
	int contadorAfc=0;
	int contadorCaf=0;
	int contadorConcacaf=0;
	int contadorConmebol=0;
	int contadorUefa=0;
	int contadorOfc=0;
	int flagCostos=0;
	int flagCalculos=0;

	do
	{

		ingresarNumerosConRangoV1(&opcion,"\nMarque opcion deseada \n"
				"1. Ingreso de los costos de mantenimiento\n"
				"	Costo de hospedaje\n"
				"	Costo de comida\n"
				"	Costo de transporte\n"
				"2.Carga de jugadores\n"
				"	Arqueros\n"
				"	Defensores\n"
				"	Mediocampistas\n"
				"	Delanteros\n"
				"3.Realizar todos los calculos\n"
				"4.Informar todos los resultados\n"
				"5.Salir\n","ERROR,Ingrese opcion valida",MIN,MAX);

		switch(opcion)
		{
			case 1:
				flagCostos=1;
				if(hospedaje!=0 || comida!=0 || transporte!=0)
				{
					printf("Costos ingresados hasta el momento\n"
							"Costo de hospedaje=%.2f\n"
							"Costo de comida=%.2f\n"
							"Costo de trasnporte=%.2f\n",hospedaje,comida,transporte);

				}

				ingresarNumerosConRangoV1(&opcionSubMenu,"\nMarque opcion deseada\n"
						"1.Costo de hospedaje\n"
						"2.Costo de comida\n"
						"3.Costo de transporte\n","ERROR,Ingrese opcion valida",1,3);


				switch(opcionSubMenu)
				{
					case 1:
						//int ingresarFloatConMinimo(float* resultado, char* mensaje,char*mensajeError,int minimo);
						ingresarFloatConMinimo(&hospedaje,"Ingrese costo de hospedaje","ERROR,Ingrese costo valido",0);
					break;
					case 2:
						ingresarFloatConMinimo(&comida,"Ingrese costo de comida","ERROR,Ingrese costo valido",0);
					break;
					case 3:
						ingresarFloatConMinimo(&transporte,"Ingrese costo de transporte","ERROR,Ingrese costo valido",0);
					break;
				}
			break;
			case 2:
				contadorJugadores=contadorJugadores+1;
				if(contadorArqueros!=0 || contadorDefensores!=0 || contadorMediocampistas!=0 || contadorDelanteros!=0)
				{
					printf("Jugadores ingresados hasta el momento segun posicion:\n"
							"Arqueros=%d\n"
							"Defensores=%d\n"
							"Mediocampistas=%d\n"
							"Delanteros=%d\n",contadorArqueros,contadorDefensores,contadorMediocampistas,contadorDelanteros);
				}

				ingresarIntConMensaje(&numeroCamiseta,"Ingresar numero de camiseta\n");

				ingresarNumerosConRangoV1(&opcionSubMenu,"Ingrese segun corresponda la conferedacion a la que pertenece el jugador\n"
						"1.AFC\n"
						"2.CAF\n"
						"3.CONCACAF\n"
						"4.CONMEBOL\n"
						"5.UEFA\n"
						"6.OFC","ERROR,Ingrese opcion valida",1,6);
				int contadorAfc=0;
				int contadorCaf=0;
				int contadorConcacaf=0;
				int contadorConmebol=0;
				int contadorUefa=0;
				int contadorOfc=0;

				switch(opcionSubMenu)
				{
					case 1:
						contadorAfc=contadorAfc+1;
					break;
					case 2:
						contadorCaf=contadorCaf+1;
					break;
					case 3:
						contadorConcacaf=contadorConcacaf+1;
					break;
					case 4:
						contadorConmebol=contadorConmebol+1;
					break;
					case 5:
						contadorUefa=contadorUefa+1;
					break;
					case 6:
						contadorOfc=contadorOfc+1;
					break;
				}

				ingresarNumerosConRangoV1(&opcionSubMenu,"\nIngrese segun corresponda posicion del jugador a cargar:\n"
						"1.Arqueros\n"
						"2.Defensores\n"
						"3.Mediocampistas\n"
						"4.Delanteros\n","ERROR,Ingrese opcion valida",1,3);
				switch(opcionSubMenu)
				{
					case 1:

						contadorArqueros=contadorArqueros+1;

					break;
					case 2:
						contadorDefensores=contadorDefensores+1;
					break;
					case 3:
						contadorMediocampistas=contadorMediocampistas+1;
					break;
					case 4:
						contadorDelanteros=contadorDelanteros+1;
					break;
				}

			break;
			case 3:
				flagCalculos=1;
				validarEntradaParaOpcion3(flagCostos,contadorJugadores);

			break;
			case 4:
				//validarEntradaParaOpcion4(flagCostos,contadorJugadores,flagCalculos);
			break;
			case 5:
			break;
		}

	}while(opcion!=5);


	return EXIT_SUCCESS;
}

int calcularPromedioJugadoresxMercado(float *promedio,int contadorJugadores, int contadorDeConfederacion)
{
	int retorno=-1;
	if(promedio!=NULL)
	{
		retorno=0;
		*promedio=contadorJugadores/contadorDeConfederacion;
	}
	return retorno;
}


